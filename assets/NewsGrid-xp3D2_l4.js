import{h as v,j as i,s as I,B as w,a as T,g as S,d as E,u as M,b as A,C as _,D}from"./index-CLGa8OZG.js";import{NewsCard as P}from"./NewsCard-HsP5sPqp.js";import{G as R}from"./Grid-B27LZ57A.js";import"./CardContent-DaGf0SX0.js";const j="...",B=({totalItems:t,itemsPerPage:s,currentPage:e,siblingCount:r=1})=>v.useMemo(()=>{const n=Math.ceil(t/s);if(r+5>=n)return Array.from({length:n},(o,l)=>({type:"page",value:l+1,isActive:Number(l+1)===Number(e)}));const c=Math.max(e-r,1),d=Math.min(e+r,n),a=c>2,p=d<n-1,f=1,g=n;if(!a&&p){const o=3+2*r;return[...Array.from({length:o},(m,u)=>({type:"page",value:u+1,isActive:Number(u+1)===Number(e)})),{type:"ellipsis",value:j},{type:"page",value:g}]}if(a&&!p){const o=3+2*r,l=Array.from({length:o},(m,u)=>({type:"page",value:n-o+u+1,isActive:Number(n-o+u+1)===Number(e)}));return[{type:"page",value:f},{type:"ellipsis",value:j},...l]}const b=Array.from({length:d-c+1},(o,l)=>({type:"page",value:c+l,isActive:Number(c+l)===Number(e)}));return[{type:"page",value:f},{type:"ellipsis",value:j},...b,{type:"ellipsis",value:j},{type:"page",value:g}]},[t,s,e,r]),G=I(w)({display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem",marginTop:"2rem"}),C=I(T)(({theme:t})=>({minWidth:"40px",height:"40px",padding:"0",color:t.palette.primary.main,borderColor:t.palette.primary.main,borderRadius:0,"&.active":{backgroundColor:t.palette.primary.main,color:"#fff","&:hover":{backgroundColor:t.palette.primary.dark}},"&:hover":{borderColor:t.palette.primary.dark,backgroundColor:"rgba(20, 41, 52, 0.04)"}})),U=I(w)(({theme:t})=>({display:"flex",alignItems:"center",justifyContent:"center",width:"40px",height:"40px",color:t.palette.primary.main})),$=({totalItems:t,itemsPerPage:s,currentPage:e,onPageChange:r,siblingCount:h=1})=>{const n=B({totalItems:t,itemsPerPage:s,currentPage:e,siblingCount:h});if(e===0||n.length<2)return null;const y=()=>{r(e+1)},c=()=>{r(e-1)},d=n[n.length-1].value;return i.jsxs(G,{children:[i.jsx(C,{variant:"outlined",onClick:c,disabled:e===1,children:"<"}),n.map((a,p)=>a.type==="ellipsis"?i.jsx(U,{children:a.value},`ellipsis-${p}`):i.jsx(C,{variant:"outlined",onClick:()=>r(a.value),className:a.type==="page"&&"isActive"in a&&a.isActive?"active":"",children:a.value},a.value)),i.jsx(C,{variant:"outlined",onClick:y,disabled:e===d,children:">"})]})},k=t=>{const[s,e,r]=t.split(".");return new Date(parseInt(r),parseInt(e)-1,parseInt(s))},W=()=>{const t=S(),{data:s,loading:e,error:r}=E("news"),[h,n]=v.useState([]),[y,c]=v.useState(1),d=v.useRef(null),a=M(),p=A(a.breakpoints.down("sm")),f=A(a.breakpoints.down("md")),g=p||f?4:6;v.useEffect(()=>{if(s!=null&&s.news){const u=[...s.news].sort((x,N)=>k(N.date).getTime()-k(x.date).getTime()).map(x=>({...x,imageUrl:Array.isArray(x.imageUrl)?x.imageUrl[0]:x.imageUrl,onClick:()=>t(`/news/${x.id}`)}));n(u),c(1)}},[s,t]);const b=m=>{c(m),(p||f)&&d.current&&d.current.scrollIntoView({behavior:"smooth",block:"start"})},o=(y-1)*g,l=h.slice(o,o+g);return e?i.jsx(w,{sx:{display:"flex",justifyContent:"center",py:4,width:"100%"},children:i.jsx(_,{})}):i.jsxs(w,{sx:{width:"100%"},children:[i.jsx(D,{ref:d,title:`${s==null?void 0:s.newsTitle}`,search:!1}),i.jsx(R,{container:!0,spacing:{xs:3,sm:4,md:5},sx:{mb:{xs:3,sm:4,md:5}},children:l.map((m,u)=>i.jsx(R,{item:!0,xs:12,sm:6,sx:{mb:{xxs:2,xs:0}},component:"div",children:i.jsx(P,{...m})},m.id))}),i.jsx(w,{sx:{display:"flex",justifyContent:"center",mt:{xs:2,sm:3,md:4}},children:i.jsx($,{totalItems:h.length,itemsPerPage:g,currentPage:y,onPageChange:b,siblingCount:p?0:1})})]})};export{W as NewsGrid};
