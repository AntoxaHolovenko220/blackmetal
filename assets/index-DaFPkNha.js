import{c as p,j as e,r as m,f as j,g as b,B as r,J as f,K as w,u as C,e as v,C as k,N as I,D as S,T as u}from"./index-D7A2F_1-.js";import{C as A}from"./Container-CFtUVnj8.js";const T=p(e.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),z=p(e.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),N=({images:n,title:h,alt:i})=>{const[c,d]=m.useState(0),t=j(),g=b(t.breakpoints.down("md")),a=()=>{d(o=>o===0?n.length-1:o-1)},s=()=>{d(o=>o===n.length-1?0:o+1)},x=o=>{d(o)};return m.useEffect(()=>{const o=l=>{l.key==="ArrowLeft"?a():l.key==="ArrowRight"&&s()};return window.addEventListener("keydown",o),()=>{window.removeEventListener("keydown",o)}},[n.length]),!n||n.length===0?null:n.length===1?e.jsx(r,{sx:{mb:4,maxWidth:"100%",mx:"auto"},children:e.jsx(r,{sx:{overflow:"hidden",maxWidth:"100%",aspectRatio:"1 / 0.5",mx:"auto",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("img",{src:n[0],alt:i||h||"News image",style:{width:"100%",height:"100%",objectFit:"contain",display:"block"}})})}):e.jsxs(r,{sx:{mb:4,position:"relative",maxWidth:"100%",mx:"auto"},children:[e.jsxs(r,{sx:{position:"relative",overflow:"hidden",maxWidth:"100%",aspectRatio:g?"1 / 0.85":"1 / 0.5",mx:"auto",display:"flex",alignItems:"center",justifyContent:"center"},children:[e.jsx(r,{sx:{position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("img",{src:n[c],alt:`${i||h||"News image"} ${c+1}`,style:{width:"100%",height:"100%",objectFit:"contain",transition:"transform 0.3s ease-in-out"}})}),e.jsx(f,{onClick:a,sx:{position:"absolute",left:2,top:"50%",transform:"translateY(-50%)",backgroundColor:"rgba(255, 255, 255, 0.9)","&:hover":{backgroundColor:"rgba(255, 255, 255, 1)"},zIndex:2},children:e.jsx(T,{})}),e.jsx(f,{onClick:s,sx:{position:"absolute",right:4,top:"50%",transform:"translateY(-50%)",backgroundColor:"rgba(255, 255, 255, 0.9)","&:hover":{backgroundColor:"rgba(255, 255, 255, 1)"},zIndex:2},children:e.jsx(z,{})})]}),e.jsx(r,{sx:{display:"flex",justifyContent:"center",gap:1,mt:2},children:n.map((o,l)=>e.jsx(r,{onClick:()=>x(l),sx:{width:12,height:12,borderRadius:"50%",backgroundColor:l===c?"primary.main":"rgba(0, 0, 0, 0.3)",cursor:"pointer",transition:"all 0.3s ease","&:hover":{backgroundColor:l===c?"primary.dark":"rgba(0, 0, 0, 0.5)"}}},l))})]})},y=()=>{const{id:n}=w(),{t:h}=C(),{data:i,loading:c,error:d}=v("news"),[t,g]=m.useState(null);if(m.useEffect(()=>{if(i!=null&&i.news&&n){const s=i.news.find(x=>x.id===parseInt(n));s&&g(s)}},[i,n]),console.log("newsItem",t),c)return e.jsx(r,{sx:{display:"flex",justifyContent:"center",py:8},children:e.jsx(k,{})});if(d||!t)return e.jsx(A,{maxWidth:"md",sx:{py:4},children:e.jsx(I,{severity:"error",children:h("notFound.title")})});let a=[];return Array.isArray(t.images)&&t.images.length>0?a=t.images:Array.isArray(t.imageUrl)?a=t.imageUrl:typeof t.imageUrl=="string"&&(a=[t.imageUrl]),e.jsxs(r,{maxWidth:"lg",sx:{pb:"32px",px:{xs:0,sm:0},pl:{xs:0,sm:"50px"},maxWidth:"100vw !important",overflowX:"hidden"},children:[e.jsxs(r,{sx:s=>({display:{xs:"flex",lg:"flex"},flexDirection:{xs:"column",lg:"row"},alignItems:{xs:"center",lg:"center"},justifyContent:{lg:"space-between"},mb:3,[s.breakpoints.down(480)]:{alignItems:"center","& .MuiTypography-h4, & .MuiTypography-caption":{width:"100%"}}}),children:[e.jsx(S,{title:`${t.title}`,search:!1}),e.jsx(u,{variant:"caption",sx:{color:"text.secondary",fontSize:{xs:"0.95rem",sm:"1rem",lg:"0.9rem"},whiteSpace:"normal",flexShrink:0,textAlign:{xs:"center",sm:"center",lg:"left"},display:"block",ml:{xs:0,lg:2},mt:{xs:0,lg:0},maxWidth:"100%",width:{xs:"100%",lg:"auto"},wordBreak:"break-word"},children:t.date})]}),t.content&&Array.isArray(t.content)&&t.content.length>0?e.jsx(r,{sx:{mb:3},children:t.content.map((s,x)=>e.jsx(r,{sx:{mb:4},children:s.type==="image"?e.jsx(r,{sx:{width:"100%",maxWidth:"600px",mx:"auto",mb:2},children:e.jsx("img",{src:s.value,alt:`${t.title} - изображение ${x+1}`,style:{width:"100%",height:"300px",objectFit:"contain"}})}):e.jsx(u,{variant:"body1",sx:{fontSize:"1.1rem",lineHeight:1.7,color:"#333",mb:2,textAlign:"justify"},children:s.value})},x))}):e.jsxs(e.Fragment,{children:[a.length>0&&e.jsx(N,{images:a,title:t.title,alt:t.title}),e.jsx(u,{variant:"body1",sx:{fontSize:"1.1rem",lineHeight:1.7,color:"#333",mb:3},children:t.text})]})]})},M=Object.freeze(Object.defineProperty({__proto__:null,default:y},Symbol.toStringTag,{value:"Module"})),L=Object.freeze(Object.defineProperty({__proto__:null,default:y},Symbol.toStringTag,{value:"Module"}));export{M as N,L as i};
