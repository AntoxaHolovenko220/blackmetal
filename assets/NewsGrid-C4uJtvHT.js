import{r as w,j as i,s as C,B as y,b as N,d as R,e as I,f as S,g as A,C as T,D as E}from"./index-wJjL7dHx.js";import{NewsCard as M}from"./NewsCard-BExSH6Tp.js";import{G as k}from"./Grid-CkATN1hY.js";import"./CardContent-ggHqsiRm.js";const j="...",_=({totalItems:t,itemsPerPage:o,currentPage:e,siblingCount:r=1})=>w.useMemo(()=>{const n=Math.ceil(t/o);if(r+5>=n)return Array.from({length:n},(l,s)=>({type:"page",value:s+1,isActive:Number(s+1)===Number(e)}));const c=Math.max(e-r,1),p=Math.min(e+r,n),a=c>2,m=p<n-1,u=1,f=n;if(!a&&m){const l=3+2*r;return[...Array.from({length:l},(d,h)=>({type:"page",value:h+1,isActive:Number(h+1)===Number(e)})),{type:"ellipsis",value:j},{type:"page",value:f}]}if(a&&!m){const l=3+2*r,s=Array.from({length:l},(d,h)=>({type:"page",value:n-l+h+1,isActive:Number(n-l+h+1)===Number(e)}));return[{type:"page",value:u},{type:"ellipsis",value:j},...s]}const v=Array.from({length:p-c+1},(l,s)=>({type:"page",value:c+s,isActive:Number(c+s)===Number(e)}));return[{type:"page",value:u},{type:"ellipsis",value:j},...v,{type:"ellipsis",value:j},{type:"page",value:f}]},[t,o,e,r]),P=C(y)({display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem",marginTop:"2rem"}),b=C(N)(({theme:t})=>({minWidth:"40px",height:"40px",padding:"0",color:t.palette.primary.main,borderColor:t.palette.primary.main,borderRadius:0,"&.active":{backgroundColor:t.palette.primary.main,color:"#fff","&:hover":{backgroundColor:t.palette.primary.dark}},"&:hover":{borderColor:t.palette.primary.dark,backgroundColor:"rgba(20, 41, 52, 0.04)"}})),B=C(y)(({theme:t})=>({display:"flex",alignItems:"center",justifyContent:"center",width:"40px",height:"40px",color:t.palette.primary.main})),G=({totalItems:t,itemsPerPage:o,currentPage:e,onPageChange:r,siblingCount:x=1})=>{const n=_({totalItems:t,itemsPerPage:o,currentPage:e,siblingCount:x});if(e===0||n.length<2)return null;const g=()=>{r(e+1)},c=()=>{r(e-1)},p=n[n.length-1].value;return i.jsxs(P,{children:[i.jsx(b,{variant:"outlined",onClick:c,disabled:e===1,children:"<"}),n.map((a,m)=>a.type==="ellipsis"?i.jsx(B,{children:a.value},`ellipsis-${m}`):i.jsx(b,{variant:"outlined",onClick:()=>r(a.value),className:a.type==="page"&&"isActive"in a&&a.isActive?"active":"",children:a.value},a.value)),i.jsx(b,{variant:"outlined",onClick:g,disabled:e===p,children:">"})]})},O=()=>{const t=R(),{data:o,loading:e,error:r}=I("news"),[x,n]=w.useState([]),[g,c]=w.useState(1),p=S(),a=A(p.breakpoints.down("sm")),m=A(p.breakpoints.down("md")),u=a||m?4:6;w.useEffect(()=>{if(o!=null&&o.news){const s=o.news.map(d=>({...d,imageUrl:Array.isArray(d.imageUrl)?d.imageUrl[0]:d.imageUrl,onClick:()=>t(`/news/${d.id}`)}));n(s)}},[o,t]);const f=s=>{c(s)},v=(g-1)*u,l=x.slice(v,v+u);return e?i.jsx(y,{sx:{display:"flex",justifyContent:"center",py:4,width:"100%"},children:i.jsx(T,{})}):i.jsxs(y,{sx:{width:"100%"},children:[i.jsx(E,{title:`${o==null?void 0:o.newsTitle}`,search:!1}),i.jsx(k,{container:!0,spacing:{xs:3,sm:4,md:5},sx:{mb:{xs:3,sm:4,md:5}},children:l.map((s,d)=>i.jsx(k,{item:!0,xs:12,sm:6,sx:{mb:{xxs:2,xs:0}},component:"div",children:i.jsx(M,{...s})},s.id))}),i.jsx(y,{sx:{display:"flex",justifyContent:"center",mt:{xs:2,sm:3,md:4}},children:i.jsx(G,{totalItems:x.length,itemsPerPage:u,currentPage:g,onPageChange:f,siblingCount:a?0:1})})]})};export{O as NewsGrid};
