import{c as C,j as e,r as f,g as F,h as y,B as s,T as g,I as h,J as S,K as _,N as W,d as D,u as R,C as P,O as T,D as z}from"./index-CibPTZIh.js";import{C as E}from"./Container-DJMolkWG.js";const w=C(e.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),k=C(e.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),L=({images:d=[],title:m,alt:l,useRegDocs:p=!1})=>{const[i,t]=f.useState(0),u=F(),a=y(u.breakpoints.down("md")),r=y(u.breakpoints.down("sm")),x=p?["/blackmetal/reg_doc1.png","/blackmetal/reg_doc2.png","/blackmetal/reg_doc3.png","/blackmetal/reg_doc4.png","/blackmetal/reg_doc5.png"]:[],o=d.length>0?d:x,b=()=>{t(n=>n===0?o.length-1:n-1)},j=()=>{t(n=>n===o.length-1?0:n+1)},I=n=>{t(n)},A=()=>{const n=document.documentElement;n.requestFullscreen?n.requestFullscreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():n.msRequestFullscreen&&n.msRequestFullscreen()};return f.useEffect(()=>{const n=c=>{c.key==="ArrowLeft"?b():c.key==="ArrowRight"&&j()};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}},[o.length]),!o||o.length===0?e.jsx(s,{sx:{textAlign:"center",padding:"20px"},children:e.jsx(g,{children:"Немає зображень для відображення"})}):o.length===1?e.jsx(s,{sx:{mb:4,maxWidth:"100%",mx:"auto"},children:e.jsx(s,{sx:{overflow:"hidden",maxWidth:"100%",aspectRatio:"1 / 0.5",mx:"auto",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("img",{src:o[0],alt:l||m||"Document image",style:{width:"100%",height:"100%",objectFit:"contain",display:"block"}})})}):e.jsxs(s,{sx:{mb:4,position:"relative",maxWidth:"100%",mx:"auto"},children:[e.jsxs(s,{sx:{position:"relative",overflow:"hidden",maxWidth:"100%",aspectRatio:a?"1 / 0.85":"1 / 0.5",mx:"auto",display:"flex",alignItems:"center",justifyContent:"center",gap:r?2:0},children:[r&&e.jsx(h,{onClick:b,sx:{backgroundColor:"rgba(255, 255, 255, 0.9)",border:"1px solid #e0e0e0","&:hover":{backgroundColor:"rgba(255, 255, 255, 1)"}},children:e.jsx(w,{})}),e.jsxs(s,{sx:{position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flex:r?"1":"none"},children:[e.jsx("img",{src:o[i],alt:`${l||m||"Document image"} ${i+1}`,style:{width:"100%",height:"100%",objectFit:"contain",transition:"transform 0.3s ease-in-out"},onError:n=>{console.error("Error loading image:",o[i])}}),!r&&e.jsxs(e.Fragment,{children:[e.jsx(h,{onClick:b,sx:{position:"absolute",left:2,top:"50%",transform:"translateY(-50%)",backgroundColor:"rgba(255, 255, 255, 0.9)","&:hover":{backgroundColor:"rgba(255, 255, 255, 1)"},zIndex:2},children:e.jsx(w,{})}),e.jsx(h,{onClick:j,sx:{position:"absolute",right:4,top:"50%",transform:"translateY(-50%)",backgroundColor:"rgba(255, 255, 255, 0.9)","&:hover":{backgroundColor:"rgba(255, 255, 255, 1)"},zIndex:2},children:e.jsx(k,{})})]})]}),r&&e.jsx(h,{onClick:j,sx:{backgroundColor:"rgba(255, 255, 255, 0.9)",border:"1px solid #e0e0e0","&:hover":{backgroundColor:"rgba(255, 255, 255, 1)"}},children:e.jsx(k,{})})]}),e.jsxs(s,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:2,mt:2,px:2},children:[e.jsx(g,{sx:{color:"#2D7A84",fontWeight:500,minWidth:32},children:i+1}),e.jsx(S,{variant:"determinate",value:o.length?(i+1)/o.length*100:0,sx:{flex:1,height:6,borderRadius:3,background:"#e0e0e0","& .MuiLinearProgress-bar":{background:"#2D7A84"}}}),e.jsx(g,{sx:{color:"#2D7A84",fontWeight:500,minWidth:32},children:o.length}),e.jsx(h,{sx:{color:"#2D7A84"},onClick:A,children:e.jsx(_,{})})]}),e.jsx(s,{sx:{display:"flex",justifyContent:"center",gap:1,mt:2},children:o.map((n,c)=>e.jsx(s,{onClick:()=>I(c),sx:{width:12,height:12,borderRadius:"50%",backgroundColor:c===i?"#2D7A84":"rgba(0, 0, 0, 0.3)",cursor:"pointer",transition:"all 0.3s ease","&:hover":{backgroundColor:c===i?"#1f5a60":"rgba(0, 0, 0, 0.5)"}}},c))})]})},v=()=>{const{id:d}=W(),{t:m}=D(),{data:l,loading:p,error:i}=R("news"),[t,u]=f.useState(null);if(f.useEffect(()=>{if(l!=null&&l.news&&d){const r=l.news.find(x=>x.id===parseInt(d));r&&u(r)}},[l,d]),console.log("newsItem",t),p)return e.jsx(s,{sx:{display:"flex",justifyContent:"center",py:8},children:e.jsx(P,{})});if(i||!t)return e.jsx(E,{maxWidth:"md",sx:{py:4},children:e.jsx(T,{severity:"error",children:m("notFound.title")})});let a=[];return Array.isArray(t.images)&&t.images.length>0?a=t.images:Array.isArray(t.imageUrl)?a=t.imageUrl:typeof t.imageUrl=="string"&&(a=[t.imageUrl]),e.jsxs(s,{maxWidth:"lg",sx:{pb:"32px",px:{xs:0,sm:0},pl:{xs:0,sm:"50px"},maxWidth:"100vw !important",overflowX:"hidden"},children:[e.jsxs(s,{sx:r=>({display:{xs:"flex",lg:"flex"},flexDirection:{xs:"column",lg:"row"},alignItems:{xs:"center",lg:"center"},justifyContent:{lg:"space-between"},mb:3,[r.breakpoints.down(480)]:{alignItems:"center","& .MuiTypography-h4, & .MuiTypography-caption":{width:"100%"}}}),children:[e.jsx(z,{title:`${t.title}`,search:!1}),e.jsx(g,{variant:"caption",sx:{color:"text.secondary",fontSize:{xs:"0.95rem",sm:"1rem",lg:"0.9rem"},whiteSpace:"normal",flexShrink:0,textAlign:{xs:"center",sm:"center",lg:"left"},display:"block",ml:{xs:0,lg:2},mt:{xs:0,lg:0},maxWidth:"100%",width:{xs:"100%",lg:"auto"},wordBreak:"break-word"},children:t.date})]}),t.content&&Array.isArray(t.content)&&t.content.length>0?e.jsx(s,{sx:{mb:3},children:t.content.map((r,x)=>e.jsx(s,{sx:{mb:4},children:r.type==="image"?e.jsx(s,{sx:{width:"100%",maxWidth:"600px",mx:"auto",mb:2},children:e.jsx("img",{src:r.value,alt:`${t.title} - изображение ${x+1}`,style:{width:"100%",height:"300px",objectFit:"contain"}})}):e.jsx(g,{variant:"body1",sx:{fontSize:"1.1rem",lineHeight:1.7,color:"#333",mb:2,textAlign:"justify"},children:r.value})},x))}):e.jsxs(e.Fragment,{children:[a.length>0&&e.jsx(L,{images:a,title:t.title,alt:t.title}),e.jsx(g,{variant:"body1",sx:{fontSize:"1.1rem",lineHeight:1.7,color:"#333",mb:3},children:t.text})]})]})},q=Object.freeze(Object.defineProperty({__proto__:null,default:v},Symbol.toStringTag,{value:"Module"})),$=Object.freeze(Object.defineProperty({__proto__:null,default:v},Symbol.toStringTag,{value:"Module"}));export{q as N,$ as i};
