import{r as y,j as a,s as C,B as v,a as k,f as I,u as N,g as S,h as A,C as T,D as E}from"./index-CibPTZIh.js";import{NewsCard as M}from"./NewsCard-CdprHTwg.js";import{G as R}from"./Grid-DSZ8gMT9.js";import"./CardContent-QZe5F1ap.js";const j="...",_=({totalItems:t,itemsPerPage:i,currentPage:e,siblingCount:o=1})=>y.useMemo(()=>{const s=Math.ceil(t/i);if(o+5>=s)return Array.from({length:s},(l,c)=>({type:"page",value:c+1,isActive:Number(c+1)===Number(e)}));const d=Math.max(e-o,1),p=Math.min(e+o,s),n=d>2,u=p<s-1,f=1,x=s;if(!n&&u){const l=3+2*o;return[...Array.from({length:l},(m,r)=>({type:"page",value:r+1,isActive:Number(r+1)===Number(e)})),{type:"ellipsis",value:j},{type:"page",value:x}]}if(n&&!u){const l=3+2*o,c=Array.from({length:l},(m,r)=>({type:"page",value:s-l+r+1,isActive:Number(s-l+r+1)===Number(e)}));return[{type:"page",value:f},{type:"ellipsis",value:j},...c]}const w=Array.from({length:p-d+1},(l,c)=>({type:"page",value:d+c,isActive:Number(d+c)===Number(e)}));return[{type:"page",value:f},{type:"ellipsis",value:j},...w,{type:"ellipsis",value:j},{type:"page",value:x}]},[t,i,e,o]),P=C(v)({display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem",marginTop:"2rem"}),b=C(k)(({theme:t})=>({minWidth:"40px",height:"40px",padding:"0",color:t.palette.primary.main,borderColor:t.palette.primary.main,borderRadius:0,"&.active":{backgroundColor:t.palette.primary.main,color:"#fff","&:hover":{backgroundColor:t.palette.primary.dark}},"&:hover":{borderColor:t.palette.primary.dark,backgroundColor:"rgba(20, 41, 52, 0.04)"}})),B=C(v)(({theme:t})=>({display:"flex",alignItems:"center",justifyContent:"center",width:"40px",height:"40px",color:t.palette.primary.main})),G=({totalItems:t,itemsPerPage:i,currentPage:e,onPageChange:o,siblingCount:g=1})=>{const s=_({totalItems:t,itemsPerPage:i,currentPage:e,siblingCount:g});if(e===0||s.length<2)return null;const h=()=>{o(e+1)},d=()=>{o(e-1)},p=s[s.length-1].value;return a.jsxs(P,{children:[a.jsx(b,{variant:"outlined",onClick:d,disabled:e===1,children:"<"}),s.map((n,u)=>n.type==="ellipsis"?a.jsx(B,{children:n.value},`ellipsis-${u}`):a.jsx(b,{variant:"outlined",onClick:()=>o(n.value),className:n.type==="page"&&"isActive"in n&&n.isActive?"active":"",children:n.value},n.value)),a.jsx(b,{variant:"outlined",onClick:h,disabled:e===p,children:">"})]})},O=()=>{const t=I(),{data:i,loading:e,error:o}=N("news"),[g,s]=y.useState([]),[h,d]=y.useState(1),p=y.useRef(null),n=S(),u=A(n.breakpoints.down("sm")),f=A(n.breakpoints.down("md")),x=u||f?4:6;y.useEffect(()=>{if(i!=null&&i.news){const m=i.news.map(r=>({...r,imageUrl:Array.isArray(r.imageUrl)?r.imageUrl[0]:r.imageUrl,onClick:()=>t(`/news/${r.id}`)}));s(m)}},[i,t]);const w=m=>{d(m),(u||f)&&p.current&&p.current.scrollIntoView({behavior:"smooth",block:"start"})},l=(h-1)*x,c=g.slice(l,l+x);return e?a.jsx(v,{sx:{display:"flex",justifyContent:"center",py:4,width:"100%"},children:a.jsx(T,{})}):a.jsxs(v,{sx:{width:"100%"},children:[a.jsx(E,{ref:p,title:`${i==null?void 0:i.newsTitle}`,search:!1}),a.jsx(R,{container:!0,spacing:{xs:3,sm:4,md:5},sx:{mb:{xs:3,sm:4,md:5}},children:c.map((m,r)=>a.jsx(R,{item:!0,xs:12,sm:6,sx:{mb:{xxs:2,xs:0}},component:"div",children:a.jsx(M,{...m})},m.id))}),a.jsx(v,{sx:{display:"flex",justifyContent:"center",mt:{xs:2,sm:3,md:4}},children:a.jsx(G,{totalItems:g.length,itemsPerPage:x,currentPage:h,onPageChange:w,siblingCount:u?0:1})})]})};export{O as NewsGrid};
