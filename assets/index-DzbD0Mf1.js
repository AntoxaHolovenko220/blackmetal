import{c as y,j as e,r as m,f as k,g as f,B as n,K as g,N as v,u as I,e as S,C as A,O as T,D as z,T as p}from"./index-DhE0f7_1.js";import{C as N}from"./Container-DVHwqt9Z.js";const b=y(e.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),j=y(e.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),W=({images:r,title:h,alt:a})=>{const[d,x]=m.useState(0),t=k(),u=f(t.breakpoints.down("md")),o=f(t.breakpoints.down("sm")),s=()=>{x(i=>i===0?r.length-1:i-1)},l=()=>{x(i=>i===r.length-1?0:i+1)},C=i=>{x(i)};return m.useEffect(()=>{const i=c=>{c.key==="ArrowLeft"?s():c.key==="ArrowRight"&&l()};return window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i)}},[r.length]),!r||r.length===0?null:r.length===1?e.jsx(n,{sx:{mb:4,maxWidth:"100%",mx:"auto"},children:e.jsx(n,{sx:{overflow:"hidden",maxWidth:"100%",aspectRatio:"1 / 0.5",mx:"auto",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("img",{src:r[0],alt:a||h||"News image",style:{width:"100%",height:"100%",objectFit:"contain",display:"block"}})})}):e.jsxs(n,{sx:{mb:4,position:"relative",maxWidth:"100%",mx:"auto"},children:[e.jsxs(n,{sx:{position:"relative",overflow:"hidden",maxWidth:"100%",aspectRatio:u?"1 / 0.85":"1 / 0.5",mx:"auto",display:"flex",alignItems:"center",justifyContent:"center",gap:o?2:0},children:[o&&e.jsx(g,{onClick:s,sx:{backgroundColor:"rgba(255, 255, 255, 0.9)",border:"1px solid #e0e0e0","&:hover":{backgroundColor:"rgba(255, 255, 255, 1)"}},children:e.jsx(b,{})}),e.jsxs(n,{sx:{position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flex:o?"1":"none"},children:[e.jsx("img",{src:r[d],alt:`${a||h||"News image"} ${d+1}`,style:{width:"100%",height:"100%",objectFit:"contain",transition:"transform 0.3s ease-in-out"}}),!o&&e.jsxs(e.Fragment,{children:[e.jsx(g,{onClick:s,sx:{position:"absolute",left:2,top:"50%",transform:"translateY(-50%)",backgroundColor:"rgba(255, 255, 255, 0.9)","&:hover":{backgroundColor:"rgba(255, 255, 255, 1)"},zIndex:2},children:e.jsx(b,{})}),e.jsx(g,{onClick:l,sx:{position:"absolute",right:4,top:"50%",transform:"translateY(-50%)",backgroundColor:"rgba(255, 255, 255, 0.9)","&:hover":{backgroundColor:"rgba(255, 255, 255, 1)"},zIndex:2},children:e.jsx(j,{})})]})]}),o&&e.jsx(g,{onClick:l,sx:{backgroundColor:"rgba(255, 255, 255, 0.9)",border:"1px solid #e0e0e0","&:hover":{backgroundColor:"rgba(255, 255, 255, 1)"}},children:e.jsx(j,{})})]}),e.jsx(n,{sx:{display:"flex",justifyContent:"center",gap:1,mt:2},children:r.map((i,c)=>e.jsx(n,{onClick:()=>C(c),sx:{width:12,height:12,borderRadius:"50%",backgroundColor:c===d?"primary.main":"rgba(0, 0, 0, 0.3)",cursor:"pointer",transition:"all 0.3s ease","&:hover":{backgroundColor:c===d?"primary.dark":"rgba(0, 0, 0, 0.5)"}}},c))})]})},w=()=>{const{id:r}=v(),{t:h}=I(),{data:a,loading:d,error:x}=S("news"),[t,u]=m.useState(null);if(m.useEffect(()=>{if(a!=null&&a.news&&r){const s=a.news.find(l=>l.id===parseInt(r));s&&u(s)}},[a,r]),console.log("newsItem",t),d)return e.jsx(n,{sx:{display:"flex",justifyContent:"center",py:8},children:e.jsx(A,{})});if(x||!t)return e.jsx(N,{maxWidth:"md",sx:{py:4},children:e.jsx(T,{severity:"error",children:h("notFound.title")})});let o=[];return Array.isArray(t.images)&&t.images.length>0?o=t.images:Array.isArray(t.imageUrl)?o=t.imageUrl:typeof t.imageUrl=="string"&&(o=[t.imageUrl]),e.jsxs(n,{maxWidth:"lg",sx:{pb:"32px",px:{xs:0,sm:0},pl:{xs:0,sm:"50px"},maxWidth:"100vw !important",overflowX:"hidden"},children:[e.jsxs(n,{sx:s=>({display:{xs:"flex",lg:"flex"},flexDirection:{xs:"column",lg:"row"},alignItems:{xs:"center",lg:"center"},justifyContent:{lg:"space-between"},mb:3,[s.breakpoints.down(480)]:{alignItems:"center","& .MuiTypography-h4, & .MuiTypography-caption":{width:"100%"}}}),children:[e.jsx(z,{title:`${t.title}`,search:!1}),e.jsx(p,{variant:"caption",sx:{color:"text.secondary",fontSize:{xs:"0.95rem",sm:"1rem",lg:"0.9rem"},whiteSpace:"normal",flexShrink:0,textAlign:{xs:"center",sm:"center",lg:"left"},display:"block",ml:{xs:0,lg:2},mt:{xs:0,lg:0},maxWidth:"100%",width:{xs:"100%",lg:"auto"},wordBreak:"break-word"},children:t.date})]}),t.content&&Array.isArray(t.content)&&t.content.length>0?e.jsx(n,{sx:{mb:3},children:t.content.map((s,l)=>e.jsx(n,{sx:{mb:4},children:s.type==="image"?e.jsx(n,{sx:{width:"100%",maxWidth:"600px",mx:"auto",mb:2},children:e.jsx("img",{src:s.value,alt:`${t.title} - изображение ${l+1}`,style:{width:"100%",height:"300px",objectFit:"contain"}})}):e.jsx(p,{variant:"body1",sx:{fontSize:"1.1rem",lineHeight:1.7,color:"#333",mb:2,textAlign:"justify"},children:s.value})},l))}):e.jsxs(e.Fragment,{children:[o.length>0&&e.jsx(W,{images:o,title:t.title,alt:t.title}),e.jsx(p,{variant:"body1",sx:{fontSize:"1.1rem",lineHeight:1.7,color:"#333",mb:3},children:t.text})]})]})},P=Object.freeze(Object.defineProperty({__proto__:null,default:w},Symbol.toStringTag,{value:"Module"})),L=Object.freeze(Object.defineProperty({__proto__:null,default:w},Symbol.toStringTag,{value:"Module"}));export{P as N,L as i};
