import{r as v,j as i,s as b,B as x,b as N,d as R,e as I,f as S,g as C,C as T,D as E}from"./index-D7A2F_1-.js";import{NewsCard as M}from"./NewsCard-D2H9EIFy.js";import{G as A}from"./Grid-1EMTIY_f.js";import"./CardContent-DkbTxR9U.js";const f="...",_=({totalItems:t,itemsPerPage:o,currentPage:e,siblingCount:r=1})=>v.useMemo(()=>{const s=Math.ceil(t/o);if(r+5>=s)return Array.from({length:s},(a,n)=>({type:"page",value:n+1,isActive:Number(n+1)===Number(e)}));const c=Math.max(e-r,1),p=Math.min(e+r,s),l=c>2,d=p<s-1,y=1,m=s;if(!l&&d){const a=3+2*r;return[...Array.from({length:a},(k,u)=>({type:"page",value:u+1,isActive:Number(u+1)===Number(e)})),{type:"ellipsis",value:f},{type:"page",value:m}]}if(l&&!d){const a=3+2*r,n=Array.from({length:a},(k,u)=>({type:"page",value:s-a+u+1,isActive:Number(s-a+u+1)===Number(e)}));return[{type:"page",value:y},{type:"ellipsis",value:f},...n]}const j=Array.from({length:p-c+1},(a,n)=>({type:"page",value:c+n,isActive:Number(c+n)===Number(e)}));return[{type:"page",value:y},{type:"ellipsis",value:f},...j,{type:"ellipsis",value:f},{type:"page",value:m}]},[t,o,e,r]),P=b(x)({display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem",marginTop:"2rem"}),w=b(N)(({theme:t})=>({minWidth:"40px",height:"40px",padding:"0",color:t.palette.primary.main,borderColor:t.palette.primary.main,borderRadius:0,"&.active":{backgroundColor:t.palette.primary.main,color:"#fff","&:hover":{backgroundColor:t.palette.primary.dark}},"&:hover":{borderColor:t.palette.primary.dark,backgroundColor:"rgba(20, 41, 52, 0.04)"}})),B=b(x)(({theme:t})=>({display:"flex",alignItems:"center",justifyContent:"center",width:"40px",height:"40px",color:t.palette.primary.main})),G=({totalItems:t,itemsPerPage:o,currentPage:e,onPageChange:r,siblingCount:g=1})=>{const s=_({totalItems:t,itemsPerPage:o,currentPage:e,siblingCount:g});if(e===0||s.length<2)return null;const h=()=>{r(e+1)},c=()=>{r(e-1)},p=s[s.length-1].value;return i.jsxs(P,{children:[i.jsx(w,{variant:"outlined",onClick:c,disabled:e===1,children:"<"}),s.map((l,d)=>l.type==="ellipsis"?i.jsx(B,{children:l.value},`ellipsis-${d}`):i.jsx(w,{variant:"outlined",onClick:()=>r(l.value),className:l.type==="page"&&"isActive"in l&&l.isActive?"active":"",children:l.value},l.value)),i.jsx(w,{variant:"outlined",onClick:h,disabled:e===p,children:">"})]})},O=()=>{const t=R(),{data:o,loading:e}=I("news"),[r,g]=v.useState([]),[s,h]=v.useState(1),c=S(),p=C(c.breakpoints.down("sm")),l=C(c.breakpoints.down("md")),d=p||l?4:6;v.useEffect(()=>{if(o!=null&&o.news){const a=o.news.map(n=>({...n,imageUrl:Array.isArray(n.imageUrl)?n.imageUrl[0]:n.imageUrl,onClick:()=>t(`/news/${n.id}`)}));g(a)}},[o,t]);const y=a=>{h(a)},m=(s-1)*d,j=r.slice(m,m+d);return e?i.jsx(x,{sx:{display:"flex",justifyContent:"center",py:4,width:"100%"},children:i.jsx(T,{})}):i.jsxs(x,{sx:{width:"100%"},children:[i.jsx(E,{title:`${o==null?void 0:o.newsTitle}`,search:!1}),i.jsx(A,{container:!0,spacing:{xs:3,sm:4,md:5},sx:{mb:{xs:3,sm:4,md:5}},children:j.map((a,n)=>i.jsx(A,{item:!0,xs:12,sm:6,sx:{mb:{xxs:2,xs:0}},component:"div",children:i.jsx(M,{...a})},a.id))}),i.jsx(x,{sx:{display:"flex",justifyContent:"center",mt:{xs:2,sm:3,md:4}},children:i.jsx(G,{totalItems:r.length,itemsPerPage:d,currentPage:s,onPageChange:y,siblingCount:p?0:1})})]})};export{O as NewsGrid};
